<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Fit and validate Generalized Additive Models based on Ensemble of Small of Model approach — esm_gam • flexsdm</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Fit and validate Generalized Additive Models based on Ensemble of Small of Model approach — esm_gam" />
<meta property="og:description" content="This function constructs Generalized Additive Models using the
Ensemble of Small Model (ESM) approach (Breiner et al., 2015, 2018)." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">flexsdm</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/01_pre_modeling.html">Overview of Pre-modeling functions</a>
    </li>
    <li>
      <a href="../articles/04_Red_fir_example.html">An example with Red Fir</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Fit and validate Generalized Additive Models based on Ensemble of Small of Model approach</h1>
    
    <div class="hidden name"><code>esm_gam.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function constructs Generalized Additive Models using the
Ensemble of Small Model (ESM) approach (Breiner et al., 2015, 2018).</p>
    </div>

    <pre class="usage"><span class='fu'>esm_gam</span><span class='op'>(</span><span class='va'>data</span>, <span class='va'>response</span>, <span class='va'>predictors</span>, <span class='va'>partition</span>, thr <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>data.frame. Database with the response (0,1) and predictors values.</p></td>
    </tr>
    <tr>
      <th>response</th>
      <td><p>character. Column name with species absence-presence data (0,1)</p></td>
    </tr>
    <tr>
      <th>predictors</th>
      <td><p>character. Vector with the column names of quantitative
predictor variables (i.e. continuous variables). This function does not allow categorical variables
Usage predictors = c("aet", "cwd", "tmin"). This function only can construct models with
continuous variables.</p></td>
    </tr>
    <tr>
      <th>partition</th>
      <td><p>character. Column name with training and validation partition groups.</p></td>
    </tr>
    <tr>
      <th>thr</th>
      <td><p>character. Threshold used to get binary suitability values (i.e. 0,1). It is useful for threshold-dependent performance metrics. It is possible to use more than one threshold type. It is necessary to provide a vector for this argument. The next threshold area available:</p><ul>
<li><p>equal_sens_spec: Threshold at which the sensitivity and specificity are equal.</p></li>
<li><p>max_sens_spec: Threshold at which the sum of the sensitivity and specificity is the highest (aka threshold that maximizes the TSS).</p></li>
<li><p>max_jaccard: The threshold at which Jaccard is the highest.</p></li>
<li><p>max_sorensen: The threshold at which Sorensen is highest.</p></li>
<li><p>max_fpb: The threshold at which FPB is highest.</p></li>
<li><p>sensitivity: Threshold based on a specified sensitivity value.
  Usage thr = c('sensitivity', sens='0.6') or thr = c('sensitivity'). 'sens' refers to sensitivity value. If it is not specified a sensitivity values, the function will use by default 0.9</p></li>
</ul><p>If the user wants to include more than one threshold type, it is necessary to concatenate threshold types, e.g., thr=c('max_sens_spec', 'max_jaccard'), or thr=c('max_sens_spec', 'sensitivity', sens='0.8'), or thr=c('max_sens_spec', 'sensitivity'). Function will use all thresholds if no threshold is specified</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list object with:</p><ul>
<li><p>esm_model: A list with "Gam" class object for each bivariate model. This object can be used
for predicting ensemble of small model with <code><a href='sdm_predict.html'>sdm_predict</a></code> function.</p></li>
<li><p>predictors: A tibble with variables use for modeling.</p></li>
<li><p>performance: Performance metric (see <code><a href='sdm_eval.html'>sdm_eval</a></code>).
Those threshold dependent metric are calculated based on the threshold specified in thr argument.</p></li>
</ul>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This method consists of creating bivariate models with all the pair-wise combinations
of predictors and perform an ensemble based on the average of suitability weighted by
Somers'D metric (D = 2 x (AUC -0.5)). ESM is recommended for modeling species with few occurrences.
This function does not allow categorical variables because the use of these types of variables
could be problematic when using with few occurrences. Further detail see
Breiner et al. (2015, 2018)</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    
<ul>
<li><p>Breiner, F. T., Guisan, A., Bergamini, A., &amp; Nobis, M. P. (2015). Overcoming limitations of modelling rare species by using ensembles of small models. Methods in Ecology and Evolution, 6(10), 1210-218. https://doi.org/10.1111/2041-210X.12403</p></li>
<li><p>Breiner, F. T., Nobis, M. P., Bergamini, A., &amp; Guisan, A. (2018). Optimizing ensembles of small models for predicting the distribution of species with few occurrences. Methods in Ecology and Evolution, 9(4), 802-808. https://doi.org/10.1111/2041-210X.12957</p></li>
</ul>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='esm_gau.html'>esm_gau</a></code>, <code><a href='esm_gbm.html'>esm_gbm</a></code>, <code><a href='esm_glm.html'>esm_glm</a></code>,
<code><a href='esm_max.html'>esm_max</a></code>, <code><a href='esm_net.html'>esm_net</a></code>, and <code><a href='esm_svm.html'>esm_svm</a></code>.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \dontrun{</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"abies"</span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='va'><a href='https://dplyr.tidyverse.org'>dplyr</a></span><span class='op'>)</span>

<span class='co'># Using k-fold partition method</span>
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>10</span><span class='op'>)</span>
<span class='va'>abies2</span> <span class='op'>&lt;-</span> <span class='va'>abies</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/pkg/terra/man/na.omit.html'>na.omit</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>pr_ab</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/slice.html'>slice_sample</a></span><span class='op'>(</span>n <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='va'>abies2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='part_random.html'>part_random</a></span><span class='op'>(</span>
  data <span class='op'>=</span> <span class='va'>abies2</span>,
  pr_ab <span class='op'>=</span> <span class='st'>"pr_ab"</span>,
  method <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/terra/man/c.html'>c</a></span><span class='op'>(</span>method <span class='op'>=</span> <span class='st'>"kfold"</span>, folds <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>
<span class='op'>)</span>
<span class='va'>abies2</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 20 x 14</span>
#&gt;       id pr_ab        x        y   aet   cwd   tmin ppt_djf ppt_jja    pH    awc
#&gt;    <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>  <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>  <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 1</span> <span style='text-decoration: underline;'>12</span>040     0 -<span style='color: #BB0000; text-decoration: underline;'>308</span><span style='color: #BB0000;'>909.</span>  <span style='text-decoration: underline;'>384</span>248.  573.  332.  4.84     521.   48.8   5.63 0.108 
#&gt; <span style='color: #BCBCBC;'> 2</span> <span style='text-decoration: underline;'>10</span>361     0 -<span style='color: #BB0000; text-decoration: underline;'>254</span><span style='color: #BB0000;'>286.</span>  <span style='text-decoration: underline;'>417</span>158.  260.  469.  2.93     151.   15.1   6.20 0.095<span style='text-decoration: underline;'>0</span>
#&gt; <span style='color: #BCBCBC;'> 3</span>  <span style='text-decoration: underline;'>9</span>402     0 -<span style='color: #BB0000; text-decoration: underline;'>286</span><span style='color: #BB0000;'>979.</span>  <span style='text-decoration: underline;'>386</span>206.  587.  376.  6.45     333.   15.7   5.5  0.160 
#&gt; <span style='color: #BCBCBC;'> 4</span>  <span style='text-decoration: underline;'>9</span>815     0 -<span style='color: #BB0000; text-decoration: underline;'>291</span><span style='color: #BB0000;'>849.</span>  <span style='text-decoration: underline;'>445</span>595.  443.  455.  4.39     332.   19.1   6    0.070<span style='text-decoration: underline;'>0</span>
#&gt; <span style='color: #BCBCBC;'> 5</span> <span style='text-decoration: underline;'>10</span>524     0 -<span style='color: #BB0000; text-decoration: underline;'>256</span><span style='color: #BB0000;'>658.</span>  <span style='text-decoration: underline;'>184</span>438.  355.  568.  5.87     303.   10.6   5.20 0.080<span style='text-decoration: underline;'>0</span>
#&gt; <span style='color: #BCBCBC;'> 6</span>  <span style='text-decoration: underline;'>8</span>860     0  <span style='text-decoration: underline;'>121</span>343. -<span style='color: #BB0000; text-decoration: underline;'>164</span><span style='color: #BB0000;'>170.</span>  354.  733.  3.97     182.    9.83  0    0     
#&gt; <span style='color: #BCBCBC;'> 7</span>  <span style='text-decoration: underline;'>6</span>431     0  <span style='text-decoration: underline;'>107</span>903. -<span style='color: #BB0000; text-decoration: underline;'>122</span><span style='color: #BB0000;'>968.</span>  461.  578.  4.87     161.    7.66  5.90 0.090<span style='text-decoration: underline;'>0</span>
#&gt; <span style='color: #BCBCBC;'> 8</span> <span style='text-decoration: underline;'>11</span>730     0 -<span style='color: #BB0000; text-decoration: underline;'>333</span><span style='color: #BB0000;'>903.</span>  <span style='text-decoration: underline;'>431</span>238.  561.  364.  6.73     387.   25.2   5.80 0.130 
#&gt; <span style='color: #BCBCBC;'> 9</span>   808     0 -<span style='color: #BB0000; text-decoration: underline;'>150</span><span style='color: #BB0000;'>163.</span>  <span style='text-decoration: underline;'>357</span>180.  339.  564.  2.64     220.   15.3   6.40 0.100 
#&gt; <span style='color: #BCBCBC;'>10</span> <span style='text-decoration: underline;'>11</span>054     0 -<span style='color: #BB0000; text-decoration: underline;'>293</span><span style='color: #BB0000;'>663.</span>  <span style='text-decoration: underline;'>340</span>981.  477.  396.  3.89     332.   26.4   4.60 0.063<span style='text-decoration: underline;'>4</span>
#&gt; <span style='color: #BCBCBC;'>11</span>  <span style='text-decoration: underline;'>2</span>960     1  -<span style='color: #BB0000; text-decoration: underline;'>49</span><span style='color: #BB0000;'>273.</span>  <span style='text-decoration: underline;'>181</span>752.  512.  275.  0.920    319.   17.3   5.92 0.090<span style='text-decoration: underline;'>0</span>
#&gt; <span style='color: #BCBCBC;'>12</span>  <span style='text-decoration: underline;'>3</span>065     1  <span style='text-decoration: underline;'>126</span>907. -<span style='color: #BB0000; text-decoration: underline;'>198</span><span style='color: #BB0000;'>892.</span>  322.  544.  0.700    203.   10.6   5.60 0.110 
#&gt; <span style='color: #BCBCBC;'>13</span>  <span style='text-decoration: underline;'>5</span>527     1  <span style='text-decoration: underline;'>116</span>751. -<span style='color: #BB0000; text-decoration: underline;'>181</span><span style='color: #BB0000;'>089.</span>  261.  537.  0.363    178.    7.43  0    0     
#&gt; <span style='color: #BCBCBC;'>14</span>  <span style='text-decoration: underline;'>4</span>035     1  -<span style='color: #BB0000; text-decoration: underline;'>31</span><span style='color: #BB0000;'>777.</span>  <span style='text-decoration: underline;'>115</span>940.  394.  440.  2.07     298.   11.2   6.01 0.076<span style='text-decoration: underline;'>9</span>
#&gt; <span style='color: #BCBCBC;'>15</span>  <span style='text-decoration: underline;'>4</span>081     1   -<span style='color: #BB0000; text-decoration: underline;'>5</span><span style='color: #BB0000;'>158.</span>   <span style='text-decoration: underline;'>90</span>159.  301.  502.  0.703    203.   14.6   6.11 0.063<span style='text-decoration: underline;'>3</span>
#&gt; <span style='color: #BCBCBC;'>16</span>  <span style='text-decoration: underline;'>3</span>087     1  <span style='text-decoration: underline;'>102</span>151. -<span style='color: #BB0000; text-decoration: underline;'>143</span><span style='color: #BB0000;'>976.</span>  299.  425. -<span style='color: #BB0000;'>2.08</span>     205.   13.4   3.88 0.110 
#&gt; <span style='color: #BCBCBC;'>17</span>  <span style='text-decoration: underline;'>3</span>495     1  -<span style='color: #BB0000; text-decoration: underline;'>19</span><span style='color: #BB0000;'>586.</span>   <span style='text-decoration: underline;'>89</span>803.  438.  419.  2.13     189.   15.2   6.19 0.095<span style='text-decoration: underline;'>9</span>
#&gt; <span style='color: #BCBCBC;'>18</span>  <span style='text-decoration: underline;'>4</span>441     1   <span style='text-decoration: underline;'>49</span>405.  -<span style='color: #BB0000; text-decoration: underline;'>60</span><span style='color: #BB0000;'>502.</span>  362.  582.  2.42     218.    7.84  5.64 0.078<span style='text-decoration: underline;'>6</span>
#&gt; <span style='color: #BCBCBC;'>19</span>   301     1 -<span style='color: #BB0000; text-decoration: underline;'>132</span><span style='color: #BB0000;'>516.</span>  <span style='text-decoration: underline;'>270</span>845.  367.  196. -<span style='color: #BB0000;'>2.56</span>     422.   26.3   6.70 0.030<span style='text-decoration: underline;'>0</span>
#&gt; <span style='color: #BCBCBC;'>20</span>  <span style='text-decoration: underline;'>3</span>162     1   <span style='text-decoration: underline;'>59</span>905.  -<span style='color: #BB0000; text-decoration: underline;'>53</span><span style='color: #BB0000;'>634.</span>  319.  626.  1.99     212.    4.50  4.51 0.039<span style='text-decoration: underline;'>6</span>
#&gt; <span style='color: #949494;'># ... with 3 more variables: depth &lt;dbl&gt;, landform &lt;fct&gt;, .part &lt;int&gt;</span></div><div class='input'>
<span class='co'># Without threshold specification and with kfold</span>
<span class='va'>esm_gam_t1</span> <span class='op'>&lt;-</span> <span class='fu'>esm_gam</span><span class='op'>(</span>
  data <span class='op'>=</span> <span class='va'>abies2</span>,
  response <span class='op'>=</span> <span class='st'>"pr_ab"</span>,
  predictors <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/terra/man/c.html'>c</a></span><span class='op'>(</span><span class='st'>"aet"</span>, <span class='st'>"cwd"</span>, <span class='st'>"tmin"</span>, <span class='st'>"ppt_djf"</span>, <span class='st'>"ppt_jja"</span>, <span class='st'>"pH"</span>, <span class='st'>"awc"</span>, <span class='st'>"depth"</span><span class='op'>)</span>,
  partition <span class='op'>=</span> <span class='st'>".part"</span>,
  thr <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span>
</div><div class='output co'>#&gt;   |                                                                              |                                                                      |   0%  |                                                                              |==                                                                    |   4%  |                                                                              |=====                                                                 |   7%  |                                                                              |========                                                              |  11%  |                                                                              |==========                                                            |  14%  |                                                                              |============                                                          |  18%  |                                                                              |===============                                                       |  21%  |                                                                              |==================                                                    |  25%  |                                                                              |====================                                                  |  29%  |                                                                              |======================                                                |  32%  |                                                                              |=========================                                             |  36%  |                                                                              |============================                                          |  39%  |                                                                              |==============================                                        |  43%  |                                                                              |================================                                      |  46%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================                                |  54%  |                                                                              |========================================                              |  57%  |                                                                              |==========================================                            |  61%  |                                                                              |=============================================                         |  64%  |                                                                              |================================================                      |  68%  |                                                                              |==================================================                    |  71%  |                                                                              |====================================================                  |  75%  |                                                                              |=======================================================               |  79%  |                                                                              |==========================================================            |  82%  |                                                                              |============================================================          |  86%  |                                                                              |==============================================================        |  89%  |                                                                              |=================================================================     |  93%  |                                                                              |====================================================================  |  96%  |                                                                              |======================================================================| 100%</div><div class='input'>
<span class='va'>esm_gam_t1</span><span class='op'>$</span><span class='va'>esm_model</span> <span class='co'># bivariate model</span>
</div><div class='output co'>#&gt; $`0.259259259259259`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99998 Residual
#&gt; Residual Deviance: 9.86509 
#&gt; 
#&gt; $`0.875`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11 Residual
#&gt; Residual Deviance: 0 
#&gt; 
#&gt; $`-0.398148148148148`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00021 Residual
#&gt; Residual Deviance: 14.29457 
#&gt; 
#&gt; $`-0.1875`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99981 Residual
#&gt; Residual Deviance: 19.34354 
#&gt; 
#&gt; $`-0.814814814814815`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00026 Residual
#&gt; Residual Deviance: 18.79893 
#&gt; 
#&gt; $`-0.402777777777778`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00046 Residual
#&gt; Residual Deviance: 18.90059 
#&gt; 
#&gt; $`0.377314814814815`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.0002 Residual
#&gt; Residual Deviance: 0.79746 
#&gt; 
#&gt; $`0.888888888888889`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00012 Residual
#&gt; Residual Deviance: 0 
#&gt; 
#&gt; $`0.497685185185185`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99978 Residual
#&gt; Residual Deviance: 6.63526 
#&gt; 
#&gt; $`0.231481481481481`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00017 Residual
#&gt; Residual Deviance: 9.81768 
#&gt; 
#&gt; $`-0.791666666666667`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99999 Residual
#&gt; Residual Deviance: 18.03072 
#&gt; 
#&gt; $`-0.75`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99993 Residual
#&gt; Residual Deviance: 18.02498 
#&gt; 
#&gt; $`0.273148148148148`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99984 Residual
#&gt; Residual Deviance: 1.61772 
#&gt; 
#&gt; $`0.875`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.9999 Residual
#&gt; Residual Deviance: 0 
#&gt; 
#&gt; $`0.875`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99993 Residual
#&gt; Residual Deviance: 0 
#&gt; 
#&gt; $`0.916666666666667`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.9999 Residual
#&gt; Residual Deviance: 1e-04 
#&gt; 
#&gt; $`1`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99999 Residual
#&gt; Residual Deviance: 0 
#&gt; 
#&gt; $`0.875`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00001 Residual
#&gt; Residual Deviance: 0 
#&gt; 
#&gt; $`0.231481481481481`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00017 Residual
#&gt; Residual Deviance: 16.04344 
#&gt; 
#&gt; $`-0.233796296296296`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00003 Residual
#&gt; Residual Deviance: 17.36921 
#&gt; 
#&gt; $`-0.0787037037037037`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00001 Residual
#&gt; Residual Deviance: 16.74941 
#&gt; 
#&gt; $`0.564814814814815`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00003 Residual
#&gt; Residual Deviance: 6.57265 
#&gt; 
#&gt; $`-0.391203703703704`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00007 Residual
#&gt; Residual Deviance: 20.28762 
#&gt; 
#&gt; $`-0.0416666666666666`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99974 Residual
#&gt; Residual Deviance: 18.81425 
#&gt; 
#&gt; $`0.569444444444444`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99977 Residual
#&gt; Residual Deviance: 2.74366 
#&gt; 
#&gt; $`-0.884259259259259`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00011 Residual
#&gt; Residual Deviance: 19.40843 
#&gt; 
#&gt; $`0.0972222222222221`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99984 Residual
#&gt; Residual Deviance: 8.20297 
#&gt; 
#&gt; $`0.594907407407407`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.9997 Residual
#&gt; Residual Deviance: 3.09105 
#&gt; </div><div class='input'><span class='va'>esm_gam_t1</span><span class='op'>$</span><span class='va'>predictors</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 1 x 8</span>
#&gt;   c1    c2    c3    c4      c5      c6    c7    c8   
#&gt;   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>
#&gt; <span style='color: #BCBCBC;'>1</span> aet   cwd   tmin  ppt_djf ppt_jja pH    awc   depth</div><div class='input'><span class='va'>esm_gam_t1</span><span class='op'>$</span><span class='va'>performance</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 7 x 25</span>
#&gt;   model   threshold    thr_value n_presences n_absences TPR_mean TPR_sd TNR_mean
#&gt;   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>            <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>       <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span>      <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>  <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'>1</span> esm_gam equal_sens_~     0.767          10         10        1      0        1
#&gt; <span style='color: #BCBCBC;'>2</span> esm_gam lpt              0.767          10         10        1      0        1
#&gt; <span style='color: #BCBCBC;'>3</span> esm_gam max_fpb          0.767          10         10        1      0        1
#&gt; <span style='color: #BCBCBC;'>4</span> esm_gam max_jaccard      0.767          10         10        1      0        1
#&gt; <span style='color: #BCBCBC;'>5</span> esm_gam max_sens_sp~     0.767          10         10        1      0        1
#&gt; <span style='color: #BCBCBC;'>6</span> esm_gam max_sorensen     0.767          10         10        1      0        1
#&gt; <span style='color: #BCBCBC;'>7</span> esm_gam sensitivity      0.991          10         10        1      0        1
#&gt; <span style='color: #949494;'># ... with 17 more variables: TNR_sd &lt;dbl&gt;, SORENSEN_mean &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   SORENSEN_sd &lt;dbl&gt;, JACCARD_mean &lt;dbl&gt;, JACCARD_sd &lt;dbl&gt;, FPB_mean &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   FPB_sd &lt;dbl&gt;, OR_mean &lt;dbl&gt;, OR_sd &lt;dbl&gt;, TSS_mean &lt;dbl&gt;, TSS_sd &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   AUC_mean &lt;dbl&gt;, AUC_sd &lt;dbl&gt;, BOYCE_mean &lt;dbl&gt;, BOYCE_sd &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   IMAE_mean &lt;dbl&gt;, IMAE_sd &lt;dbl&gt;</span></div><div class='input'>
<span class='co'># Test with rep_kfold partition</span>
<span class='va'>abies2</span> <span class='op'>&lt;-</span> <span class='va'>abies2</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='op'>-</span><span class='fu'><a href='https://tidyselect.r-lib.org/reference/starts_with.html'>starts_with</a></span><span class='op'>(</span><span class='st'>"."</span><span class='op'>)</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>10</span><span class='op'>)</span>
<span class='va'>abies2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='part_random.html'>part_random</a></span><span class='op'>(</span>
  data <span class='op'>=</span> <span class='va'>abies2</span>,
  pr_ab <span class='op'>=</span> <span class='st'>"pr_ab"</span>,
  method <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/terra/man/c.html'>c</a></span><span class='op'>(</span>method <span class='op'>=</span> <span class='st'>"rep_kfold"</span>, folds <span class='op'>=</span> <span class='fl'>3</span>, replicates <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>
<span class='op'>)</span>
<span class='va'>abies2</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 20 x 18</span>
#&gt;       id pr_ab        x        y   aet   cwd   tmin ppt_djf ppt_jja    pH    awc
#&gt;    <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>  <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>  <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 1</span> <span style='text-decoration: underline;'>12</span>040     0 -<span style='color: #BB0000; text-decoration: underline;'>308</span><span style='color: #BB0000;'>909.</span>  <span style='text-decoration: underline;'>384</span>248.  573.  332.  4.84     521.   48.8   5.63 0.108 
#&gt; <span style='color: #BCBCBC;'> 2</span> <span style='text-decoration: underline;'>10</span>361     0 -<span style='color: #BB0000; text-decoration: underline;'>254</span><span style='color: #BB0000;'>286.</span>  <span style='text-decoration: underline;'>417</span>158.  260.  469.  2.93     151.   15.1   6.20 0.095<span style='text-decoration: underline;'>0</span>
#&gt; <span style='color: #BCBCBC;'> 3</span>  <span style='text-decoration: underline;'>9</span>402     0 -<span style='color: #BB0000; text-decoration: underline;'>286</span><span style='color: #BB0000;'>979.</span>  <span style='text-decoration: underline;'>386</span>206.  587.  376.  6.45     333.   15.7   5.5  0.160 
#&gt; <span style='color: #BCBCBC;'> 4</span>  <span style='text-decoration: underline;'>9</span>815     0 -<span style='color: #BB0000; text-decoration: underline;'>291</span><span style='color: #BB0000;'>849.</span>  <span style='text-decoration: underline;'>445</span>595.  443.  455.  4.39     332.   19.1   6    0.070<span style='text-decoration: underline;'>0</span>
#&gt; <span style='color: #BCBCBC;'> 5</span> <span style='text-decoration: underline;'>10</span>524     0 -<span style='color: #BB0000; text-decoration: underline;'>256</span><span style='color: #BB0000;'>658.</span>  <span style='text-decoration: underline;'>184</span>438.  355.  568.  5.87     303.   10.6   5.20 0.080<span style='text-decoration: underline;'>0</span>
#&gt; <span style='color: #BCBCBC;'> 6</span>  <span style='text-decoration: underline;'>8</span>860     0  <span style='text-decoration: underline;'>121</span>343. -<span style='color: #BB0000; text-decoration: underline;'>164</span><span style='color: #BB0000;'>170.</span>  354.  733.  3.97     182.    9.83  0    0     
#&gt; <span style='color: #BCBCBC;'> 7</span>  <span style='text-decoration: underline;'>6</span>431     0  <span style='text-decoration: underline;'>107</span>903. -<span style='color: #BB0000; text-decoration: underline;'>122</span><span style='color: #BB0000;'>968.</span>  461.  578.  4.87     161.    7.66  5.90 0.090<span style='text-decoration: underline;'>0</span>
#&gt; <span style='color: #BCBCBC;'> 8</span> <span style='text-decoration: underline;'>11</span>730     0 -<span style='color: #BB0000; text-decoration: underline;'>333</span><span style='color: #BB0000;'>903.</span>  <span style='text-decoration: underline;'>431</span>238.  561.  364.  6.73     387.   25.2   5.80 0.130 
#&gt; <span style='color: #BCBCBC;'> 9</span>   808     0 -<span style='color: #BB0000; text-decoration: underline;'>150</span><span style='color: #BB0000;'>163.</span>  <span style='text-decoration: underline;'>357</span>180.  339.  564.  2.64     220.   15.3   6.40 0.100 
#&gt; <span style='color: #BCBCBC;'>10</span> <span style='text-decoration: underline;'>11</span>054     0 -<span style='color: #BB0000; text-decoration: underline;'>293</span><span style='color: #BB0000;'>663.</span>  <span style='text-decoration: underline;'>340</span>981.  477.  396.  3.89     332.   26.4   4.60 0.063<span style='text-decoration: underline;'>4</span>
#&gt; <span style='color: #BCBCBC;'>11</span>  <span style='text-decoration: underline;'>2</span>960     1  -<span style='color: #BB0000; text-decoration: underline;'>49</span><span style='color: #BB0000;'>273.</span>  <span style='text-decoration: underline;'>181</span>752.  512.  275.  0.920    319.   17.3   5.92 0.090<span style='text-decoration: underline;'>0</span>
#&gt; <span style='color: #BCBCBC;'>12</span>  <span style='text-decoration: underline;'>3</span>065     1  <span style='text-decoration: underline;'>126</span>907. -<span style='color: #BB0000; text-decoration: underline;'>198</span><span style='color: #BB0000;'>892.</span>  322.  544.  0.700    203.   10.6   5.60 0.110 
#&gt; <span style='color: #BCBCBC;'>13</span>  <span style='text-decoration: underline;'>5</span>527     1  <span style='text-decoration: underline;'>116</span>751. -<span style='color: #BB0000; text-decoration: underline;'>181</span><span style='color: #BB0000;'>089.</span>  261.  537.  0.363    178.    7.43  0    0     
#&gt; <span style='color: #BCBCBC;'>14</span>  <span style='text-decoration: underline;'>4</span>035     1  -<span style='color: #BB0000; text-decoration: underline;'>31</span><span style='color: #BB0000;'>777.</span>  <span style='text-decoration: underline;'>115</span>940.  394.  440.  2.07     298.   11.2   6.01 0.076<span style='text-decoration: underline;'>9</span>
#&gt; <span style='color: #BCBCBC;'>15</span>  <span style='text-decoration: underline;'>4</span>081     1   -<span style='color: #BB0000; text-decoration: underline;'>5</span><span style='color: #BB0000;'>158.</span>   <span style='text-decoration: underline;'>90</span>159.  301.  502.  0.703    203.   14.6   6.11 0.063<span style='text-decoration: underline;'>3</span>
#&gt; <span style='color: #BCBCBC;'>16</span>  <span style='text-decoration: underline;'>3</span>087     1  <span style='text-decoration: underline;'>102</span>151. -<span style='color: #BB0000; text-decoration: underline;'>143</span><span style='color: #BB0000;'>976.</span>  299.  425. -<span style='color: #BB0000;'>2.08</span>     205.   13.4   3.88 0.110 
#&gt; <span style='color: #BCBCBC;'>17</span>  <span style='text-decoration: underline;'>3</span>495     1  -<span style='color: #BB0000; text-decoration: underline;'>19</span><span style='color: #BB0000;'>586.</span>   <span style='text-decoration: underline;'>89</span>803.  438.  419.  2.13     189.   15.2   6.19 0.095<span style='text-decoration: underline;'>9</span>
#&gt; <span style='color: #BCBCBC;'>18</span>  <span style='text-decoration: underline;'>4</span>441     1   <span style='text-decoration: underline;'>49</span>405.  -<span style='color: #BB0000; text-decoration: underline;'>60</span><span style='color: #BB0000;'>502.</span>  362.  582.  2.42     218.    7.84  5.64 0.078<span style='text-decoration: underline;'>6</span>
#&gt; <span style='color: #BCBCBC;'>19</span>   301     1 -<span style='color: #BB0000; text-decoration: underline;'>132</span><span style='color: #BB0000;'>516.</span>  <span style='text-decoration: underline;'>270</span>845.  367.  196. -<span style='color: #BB0000;'>2.56</span>     422.   26.3   6.70 0.030<span style='text-decoration: underline;'>0</span>
#&gt; <span style='color: #BCBCBC;'>20</span>  <span style='text-decoration: underline;'>3</span>162     1   <span style='text-decoration: underline;'>59</span>905.  -<span style='color: #BB0000; text-decoration: underline;'>53</span><span style='color: #BB0000;'>634.</span>  319.  626.  1.99     212.    4.50  4.51 0.039<span style='text-decoration: underline;'>6</span>
#&gt; <span style='color: #949494;'># ... with 7 more variables: depth &lt;dbl&gt;, landform &lt;fct&gt;, .part1 &lt;int&gt;,</span>
#&gt; <span style='color: #949494;'>#   .part2 &lt;int&gt;, .part3 &lt;int&gt;, .part4 &lt;int&gt;, .part5 &lt;int&gt;</span></div><div class='input'>
<span class='va'>esm_gam_t2</span> <span class='op'>&lt;-</span> <span class='fu'>esm_gam</span><span class='op'>(</span>
  data <span class='op'>=</span> <span class='va'>abies2</span>,
  response <span class='op'>=</span> <span class='st'>"pr_ab"</span>,
  predictors <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/terra/man/c.html'>c</a></span><span class='op'>(</span><span class='st'>"aet"</span>, <span class='st'>"cwd"</span>, <span class='st'>"tmin"</span>, <span class='st'>"ppt_djf"</span>, <span class='st'>"ppt_jja"</span>, <span class='st'>"pH"</span>, <span class='st'>"awc"</span>, <span class='st'>"depth"</span><span class='op'>)</span>,
  partition <span class='op'>=</span> <span class='st'>".part"</span>,
  thr <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span>
</div><div class='output co'>#&gt;   |                                                                              |                                                                      |   0%  |                                                                              |==                                                                    |   4%  |                                                                              |=====                                                                 |   7%  |                                                                              |========                                                              |  11%  |                                                                              |==========                                                            |  14%  |                                                                              |============                                                          |  18%  |                                                                              |===============                                                       |  21%  |                                                                              |==================                                                    |  25%  |                                                                              |====================                                                  |  29%  |                                                                              |======================                                                |  32%  |                                                                              |=========================                                             |  36%  |                                                                              |============================                                          |  39%  |                                                                              |==============================                                        |  43%  |                                                                              |================================                                      |  46%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================                                |  54%  |                                                                              |========================================                              |  57%  |                                                                              |==========================================                            |  61%  |                                                                              |=============================================                         |  64%  |                                                                              |================================================                      |  68%  |                                                                              |==================================================                    |  71%  |                                                                              |====================================================                  |  75%  |                                                                              |=======================================================               |  79%  |                                                                              |==========================================================            |  82%  |                                                                              |============================================================          |  86%  |                                                                              |==============================================================        |  89%  |                                                                              |=================================================================     |  93%  |                                                                              |====================================================================  |  96%  |                                                                              |======================================================================| 100%</div><div class='input'><span class='va'>esm_gam_t2</span><span class='op'>$</span><span class='va'>esm_model</span> <span class='co'># bivariate model</span>
</div><div class='output co'>#&gt; $`0.150925925925926`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99998 Residual
#&gt; Residual Deviance: 9.86509 
#&gt; 
#&gt; $`0.917592592592593`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11 Residual
#&gt; Residual Deviance: 0 
#&gt; 
#&gt; $`0.2125`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00021 Residual
#&gt; Residual Deviance: 14.29457 
#&gt; 
#&gt; $`-0.0745370370370371`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99981 Residual
#&gt; Residual Deviance: 19.34354 
#&gt; 
#&gt; $`-0.236111111111111`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00026 Residual
#&gt; Residual Deviance: 18.79893 
#&gt; 
#&gt; $`-0.358333333333333`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00046 Residual
#&gt; Residual Deviance: 18.90059 
#&gt; 
#&gt; $`0.455555555555555`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.0002 Residual
#&gt; Residual Deviance: 0.79746 
#&gt; 
#&gt; $`0.838425925925926`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00012 Residual
#&gt; Residual Deviance: 0 
#&gt; 
#&gt; $`0.308796296296296`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99978 Residual
#&gt; Residual Deviance: 6.63526 
#&gt; 
#&gt; $`0.318981481481482`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00017 Residual
#&gt; Residual Deviance: 9.81768 
#&gt; 
#&gt; $`-0.267592592592593`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99999 Residual
#&gt; Residual Deviance: 18.03072 
#&gt; 
#&gt; $`-0.271296296296296`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99993 Residual
#&gt; Residual Deviance: 18.02498 
#&gt; 
#&gt; $`0.619907407407407`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99984 Residual
#&gt; Residual Deviance: 1.61772 
#&gt; 
#&gt; $`0.816666666666667`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.9999 Residual
#&gt; Residual Deviance: 0 
#&gt; 
#&gt; $`0.930555555555556`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99993 Residual
#&gt; Residual Deviance: 0 
#&gt; 
#&gt; $`0.851851851851852`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.9999 Residual
#&gt; Residual Deviance: 1e-04 
#&gt; 
#&gt; $`0.925`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99999 Residual
#&gt; Residual Deviance: 0 
#&gt; 
#&gt; $`0.851851851851852`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00001 Residual
#&gt; Residual Deviance: 0 
#&gt; 
#&gt; $`0.271759259259259`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00017 Residual
#&gt; Residual Deviance: 16.04344 
#&gt; 
#&gt; $`0`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00003 Residual
#&gt; Residual Deviance: 17.36921 
#&gt; 
#&gt; $`-0.0310185185185186`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00001 Residual
#&gt; Residual Deviance: 16.74941 
#&gt; 
#&gt; $`0.277777777777778`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00003 Residual
#&gt; Residual Deviance: 6.57265 
#&gt; 
#&gt; $`-0.0314814814814814`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00007 Residual
#&gt; Residual Deviance: 20.28762 
#&gt; 
#&gt; $`-0.0337962962962963`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99974 Residual
#&gt; Residual Deviance: 18.81425 
#&gt; 
#&gt; $`0.339351851851852`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99977 Residual
#&gt; Residual Deviance: 2.74366 
#&gt; 
#&gt; $`-0.380555555555556`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00011 Residual
#&gt; Residual Deviance: 19.40843 
#&gt; 
#&gt; $`0.311111111111111`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99984 Residual
#&gt; Residual Deviance: 8.20297 
#&gt; 
#&gt; $`0.568518518518518`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.9997 Residual
#&gt; Residual Deviance: 3.09105 
#&gt; </div><div class='input'><span class='va'>esm_gam_t2</span><span class='op'>$</span><span class='va'>predictors</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 1 x 8</span>
#&gt;   c1    c2    c3    c4      c5      c6    c7    c8   
#&gt;   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>
#&gt; <span style='color: #BCBCBC;'>1</span> aet   cwd   tmin  ppt_djf ppt_jja pH    awc   depth</div><div class='input'><span class='va'>esm_gam_t2</span><span class='op'>$</span><span class='va'>performance</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 7 x 25</span>
#&gt;   model   threshold    thr_value n_presences n_absences TPR_mean TPR_sd TNR_mean
#&gt;   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>            <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>       <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span>      <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>  <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'>1</span> esm_gam equal_sens_~     0.505          50         50    0.961  0.104    1    
#&gt; <span style='color: #BCBCBC;'>2</span> esm_gam lpt              0.415          50         50    1      0        0.961
#&gt; <span style='color: #BCBCBC;'>3</span> esm_gam max_fpb          0.415          50         50    1      0        0.961
#&gt; <span style='color: #BCBCBC;'>4</span> esm_gam max_jaccard      0.415          50         50    1      0        0.961
#&gt; <span style='color: #BCBCBC;'>5</span> esm_gam max_sens_sp~     0.415          50         50    0.961  0.104    1    
#&gt; <span style='color: #BCBCBC;'>6</span> esm_gam max_sorensen     0.415          50         50    1      0        0.961
#&gt; <span style='color: #BCBCBC;'>7</span> esm_gam sensitivity      0.711          50         50    1      0        0.961
#&gt; <span style='color: #949494;'># ... with 17 more variables: TNR_sd &lt;dbl&gt;, SORENSEN_mean &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   SORENSEN_sd &lt;dbl&gt;, JACCARD_mean &lt;dbl&gt;, JACCARD_sd &lt;dbl&gt;, FPB_mean &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   FPB_sd &lt;dbl&gt;, OR_mean &lt;dbl&gt;, OR_sd &lt;dbl&gt;, TSS_mean &lt;dbl&gt;, TSS_sd &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   AUC_mean &lt;dbl&gt;, AUC_sd &lt;dbl&gt;, BOYCE_mean &lt;dbl&gt;, BOYCE_sd &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   IMAE_mean &lt;dbl&gt;, IMAE_sd &lt;dbl&gt;</span></div><div class='input'>
<span class='co'># Test with other bootstrap</span>
<span class='va'>abies2</span> <span class='op'>&lt;-</span> <span class='va'>abies2</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='op'>-</span><span class='fu'><a href='https://tidyselect.r-lib.org/reference/starts_with.html'>starts_with</a></span><span class='op'>(</span><span class='st'>"."</span><span class='op'>)</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>10</span><span class='op'>)</span>
<span class='va'>abies2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='part_random.html'>part_random</a></span><span class='op'>(</span>
  data <span class='op'>=</span> <span class='va'>abies2</span>,
  pr_ab <span class='op'>=</span> <span class='st'>"pr_ab"</span>,
  method <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/terra/man/c.html'>c</a></span><span class='op'>(</span>method <span class='op'>=</span> <span class='st'>"boot"</span>, replicates <span class='op'>=</span> <span class='fl'>10</span>, proportion <span class='op'>=</span> <span class='fl'>0.7</span><span class='op'>)</span>
<span class='op'>)</span>
<span class='va'>abies2</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 20 x 23</span>
#&gt;       id pr_ab        x        y   aet   cwd   tmin ppt_djf ppt_jja    pH    awc
#&gt;    <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>  <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>  <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 1</span> <span style='text-decoration: underline;'>12</span>040     0 -<span style='color: #BB0000; text-decoration: underline;'>308</span><span style='color: #BB0000;'>909.</span>  <span style='text-decoration: underline;'>384</span>248.  573.  332.  4.84     521.   48.8   5.63 0.108 
#&gt; <span style='color: #BCBCBC;'> 2</span> <span style='text-decoration: underline;'>10</span>361     0 -<span style='color: #BB0000; text-decoration: underline;'>254</span><span style='color: #BB0000;'>286.</span>  <span style='text-decoration: underline;'>417</span>158.  260.  469.  2.93     151.   15.1   6.20 0.095<span style='text-decoration: underline;'>0</span>
#&gt; <span style='color: #BCBCBC;'> 3</span>  <span style='text-decoration: underline;'>9</span>402     0 -<span style='color: #BB0000; text-decoration: underline;'>286</span><span style='color: #BB0000;'>979.</span>  <span style='text-decoration: underline;'>386</span>206.  587.  376.  6.45     333.   15.7   5.5  0.160 
#&gt; <span style='color: #BCBCBC;'> 4</span>  <span style='text-decoration: underline;'>9</span>815     0 -<span style='color: #BB0000; text-decoration: underline;'>291</span><span style='color: #BB0000;'>849.</span>  <span style='text-decoration: underline;'>445</span>595.  443.  455.  4.39     332.   19.1   6    0.070<span style='text-decoration: underline;'>0</span>
#&gt; <span style='color: #BCBCBC;'> 5</span> <span style='text-decoration: underline;'>10</span>524     0 -<span style='color: #BB0000; text-decoration: underline;'>256</span><span style='color: #BB0000;'>658.</span>  <span style='text-decoration: underline;'>184</span>438.  355.  568.  5.87     303.   10.6   5.20 0.080<span style='text-decoration: underline;'>0</span>
#&gt; <span style='color: #BCBCBC;'> 6</span>  <span style='text-decoration: underline;'>8</span>860     0  <span style='text-decoration: underline;'>121</span>343. -<span style='color: #BB0000; text-decoration: underline;'>164</span><span style='color: #BB0000;'>170.</span>  354.  733.  3.97     182.    9.83  0    0     
#&gt; <span style='color: #BCBCBC;'> 7</span>  <span style='text-decoration: underline;'>6</span>431     0  <span style='text-decoration: underline;'>107</span>903. -<span style='color: #BB0000; text-decoration: underline;'>122</span><span style='color: #BB0000;'>968.</span>  461.  578.  4.87     161.    7.66  5.90 0.090<span style='text-decoration: underline;'>0</span>
#&gt; <span style='color: #BCBCBC;'> 8</span> <span style='text-decoration: underline;'>11</span>730     0 -<span style='color: #BB0000; text-decoration: underline;'>333</span><span style='color: #BB0000;'>903.</span>  <span style='text-decoration: underline;'>431</span>238.  561.  364.  6.73     387.   25.2   5.80 0.130 
#&gt; <span style='color: #BCBCBC;'> 9</span>   808     0 -<span style='color: #BB0000; text-decoration: underline;'>150</span><span style='color: #BB0000;'>163.</span>  <span style='text-decoration: underline;'>357</span>180.  339.  564.  2.64     220.   15.3   6.40 0.100 
#&gt; <span style='color: #BCBCBC;'>10</span> <span style='text-decoration: underline;'>11</span>054     0 -<span style='color: #BB0000; text-decoration: underline;'>293</span><span style='color: #BB0000;'>663.</span>  <span style='text-decoration: underline;'>340</span>981.  477.  396.  3.89     332.   26.4   4.60 0.063<span style='text-decoration: underline;'>4</span>
#&gt; <span style='color: #BCBCBC;'>11</span>  <span style='text-decoration: underline;'>2</span>960     1  -<span style='color: #BB0000; text-decoration: underline;'>49</span><span style='color: #BB0000;'>273.</span>  <span style='text-decoration: underline;'>181</span>752.  512.  275.  0.920    319.   17.3   5.92 0.090<span style='text-decoration: underline;'>0</span>
#&gt; <span style='color: #BCBCBC;'>12</span>  <span style='text-decoration: underline;'>3</span>065     1  <span style='text-decoration: underline;'>126</span>907. -<span style='color: #BB0000; text-decoration: underline;'>198</span><span style='color: #BB0000;'>892.</span>  322.  544.  0.700    203.   10.6   5.60 0.110 
#&gt; <span style='color: #BCBCBC;'>13</span>  <span style='text-decoration: underline;'>5</span>527     1  <span style='text-decoration: underline;'>116</span>751. -<span style='color: #BB0000; text-decoration: underline;'>181</span><span style='color: #BB0000;'>089.</span>  261.  537.  0.363    178.    7.43  0    0     
#&gt; <span style='color: #BCBCBC;'>14</span>  <span style='text-decoration: underline;'>4</span>035     1  -<span style='color: #BB0000; text-decoration: underline;'>31</span><span style='color: #BB0000;'>777.</span>  <span style='text-decoration: underline;'>115</span>940.  394.  440.  2.07     298.   11.2   6.01 0.076<span style='text-decoration: underline;'>9</span>
#&gt; <span style='color: #BCBCBC;'>15</span>  <span style='text-decoration: underline;'>4</span>081     1   -<span style='color: #BB0000; text-decoration: underline;'>5</span><span style='color: #BB0000;'>158.</span>   <span style='text-decoration: underline;'>90</span>159.  301.  502.  0.703    203.   14.6   6.11 0.063<span style='text-decoration: underline;'>3</span>
#&gt; <span style='color: #BCBCBC;'>16</span>  <span style='text-decoration: underline;'>3</span>087     1  <span style='text-decoration: underline;'>102</span>151. -<span style='color: #BB0000; text-decoration: underline;'>143</span><span style='color: #BB0000;'>976.</span>  299.  425. -<span style='color: #BB0000;'>2.08</span>     205.   13.4   3.88 0.110 
#&gt; <span style='color: #BCBCBC;'>17</span>  <span style='text-decoration: underline;'>3</span>495     1  -<span style='color: #BB0000; text-decoration: underline;'>19</span><span style='color: #BB0000;'>586.</span>   <span style='text-decoration: underline;'>89</span>803.  438.  419.  2.13     189.   15.2   6.19 0.095<span style='text-decoration: underline;'>9</span>
#&gt; <span style='color: #BCBCBC;'>18</span>  <span style='text-decoration: underline;'>4</span>441     1   <span style='text-decoration: underline;'>49</span>405.  -<span style='color: #BB0000; text-decoration: underline;'>60</span><span style='color: #BB0000;'>502.</span>  362.  582.  2.42     218.    7.84  5.64 0.078<span style='text-decoration: underline;'>6</span>
#&gt; <span style='color: #BCBCBC;'>19</span>   301     1 -<span style='color: #BB0000; text-decoration: underline;'>132</span><span style='color: #BB0000;'>516.</span>  <span style='text-decoration: underline;'>270</span>845.  367.  196. -<span style='color: #BB0000;'>2.56</span>     422.   26.3   6.70 0.030<span style='text-decoration: underline;'>0</span>
#&gt; <span style='color: #BCBCBC;'>20</span>  <span style='text-decoration: underline;'>3</span>162     1   <span style='text-decoration: underline;'>59</span>905.  -<span style='color: #BB0000; text-decoration: underline;'>53</span><span style='color: #BB0000;'>634.</span>  319.  626.  1.99     212.    4.50  4.51 0.039<span style='text-decoration: underline;'>6</span>
#&gt; <span style='color: #949494;'># ... with 12 more variables: depth &lt;dbl&gt;, landform &lt;fct&gt;, .part1 &lt;chr&gt;,</span>
#&gt; <span style='color: #949494;'>#   .part2 &lt;chr&gt;, .part3 &lt;chr&gt;, .part4 &lt;chr&gt;, .part5 &lt;chr&gt;, .part6 &lt;chr&gt;,</span>
#&gt; <span style='color: #949494;'>#   .part7 &lt;chr&gt;, .part8 &lt;chr&gt;, .part9 &lt;chr&gt;, .part10 &lt;chr&gt;</span></div><div class='input'>
<span class='va'>esm_gam_t3</span> <span class='op'>&lt;-</span> <span class='fu'>esm_gam</span><span class='op'>(</span>
  data <span class='op'>=</span> <span class='va'>abies2</span>,
  response <span class='op'>=</span> <span class='st'>"pr_ab"</span>,
  predictors <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/terra/man/c.html'>c</a></span><span class='op'>(</span><span class='st'>"aet"</span>, <span class='st'>"cwd"</span>, <span class='st'>"tmin"</span>, <span class='st'>"ppt_djf"</span>, <span class='st'>"ppt_jja"</span>, <span class='st'>"pH"</span>, <span class='st'>"awc"</span>, <span class='st'>"depth"</span><span class='op'>)</span>,
  partition <span class='op'>=</span> <span class='st'>".part"</span>,
  thr <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span>
</div><div class='output co'>#&gt;   |                                                                              |                                                                      |   0%  |                                                                              |==                                                                    |   4%  |                                                                              |=====                                                                 |   7%  |                                                                              |========                                                              |  11%  |                                                                              |==========                                                            |  14%  |                                                                              |============                                                          |  18%  |                                                                              |===============                                                       |  21%  |                                                                              |==================                                                    |  25%  |                                                                              |====================                                                  |  29%  |                                                                              |======================                                                |  32%  |                                                                              |=========================                                             |  36%  |                                                                              |============================                                          |  39%  |                                                                              |==============================                                        |  43%  |                                                                              |================================                                      |  46%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================                                |  54%  |                                                                              |========================================                              |  57%  |                                                                              |==========================================                            |  61%  |                                                                              |=============================================                         |  64%  |                                                                              |================================================                      |  68%  |                                                                              |==================================================                    |  71%  |                                                                              |====================================================                  |  75%  |                                                                              |=======================================================               |  79%  |                                                                              |==========================================================            |  82%  |                                                                              |============================================================          |  86%  |                                                                              |==============================================================        |  89%  |                                                                              |=================================================================     |  93%  |                                                                              |====================================================================  |  96%  |                                                                              |======================================================================| 100%</div><div class='input'><span class='va'>esm_gam_t3</span><span class='op'>$</span><span class='va'>esm_model</span> <span class='co'># bivariate model</span>
</div><div class='output co'>#&gt; $`0.577777777777778`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99998 Residual
#&gt; Residual Deviance: 9.86509 
#&gt; 
#&gt; $`0.933333333333333`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11 Residual
#&gt; Residual Deviance: 0 
#&gt; 
#&gt; $`0.566666666666667`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00021 Residual
#&gt; Residual Deviance: 14.29457 
#&gt; 
#&gt; $`0.633333333333333`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99981 Residual
#&gt; Residual Deviance: 19.34354 
#&gt; 
#&gt; $`0.733333333333333`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00026 Residual
#&gt; Residual Deviance: 18.79893 
#&gt; 
#&gt; $`0.711111111111111`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00046 Residual
#&gt; Residual Deviance: 18.90059 
#&gt; 
#&gt; $`0.944444444444444`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.0002 Residual
#&gt; Residual Deviance: 0.79746 
#&gt; 
#&gt; $`0.933333333333333`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00012 Residual
#&gt; Residual Deviance: 0 
#&gt; 
#&gt; $`0.666666666666667`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99978 Residual
#&gt; Residual Deviance: 6.63526 
#&gt; 
#&gt; $`0.733333333333333`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00017 Residual
#&gt; Residual Deviance: 9.81768 
#&gt; 
#&gt; $`0.333333333333333`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99999 Residual
#&gt; Residual Deviance: 18.03072 
#&gt; 
#&gt; $`0.422222222222222`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99993 Residual
#&gt; Residual Deviance: 18.02498 
#&gt; 
#&gt; $`0.955555555555555`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99984 Residual
#&gt; Residual Deviance: 1.61772 
#&gt; 
#&gt; $`0.922222222222222`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.9999 Residual
#&gt; Residual Deviance: 0 
#&gt; 
#&gt; $`0.955555555555555`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99993 Residual
#&gt; Residual Deviance: 0 
#&gt; 
#&gt; $`0.966666666666667`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.9999 Residual
#&gt; Residual Deviance: 1e-04 
#&gt; 
#&gt; $`1`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99999 Residual
#&gt; Residual Deviance: 0 
#&gt; 
#&gt; $`0.955555555555555`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00001 Residual
#&gt; Residual Deviance: 0 
#&gt; 
#&gt; $`0.811111111111111`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00017 Residual
#&gt; Residual Deviance: 16.04344 
#&gt; 
#&gt; $`0.644444444444444`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00003 Residual
#&gt; Residual Deviance: 17.36921 
#&gt; 
#&gt; $`0.6`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00001 Residual
#&gt; Residual Deviance: 16.74941 
#&gt; 
#&gt; $`0.866666666666667`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00003 Residual
#&gt; Residual Deviance: 6.57265 
#&gt; 
#&gt; $`0.622222222222222`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00007 Residual
#&gt; Residual Deviance: 20.28762 
#&gt; 
#&gt; $`0.644444444444444`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99974 Residual
#&gt; Residual Deviance: 18.81425 
#&gt; 
#&gt; $`0.811111111111111`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99977 Residual
#&gt; Residual Deviance: 2.74366 
#&gt; 
#&gt; $`0.477777777777778`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 11.00011 Residual
#&gt; Residual Deviance: 19.40843 
#&gt; 
#&gt; $`0.811111111111111`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.99984 Residual
#&gt; Residual Deviance: 8.20297 
#&gt; 
#&gt; $`0.955555555555555`
#&gt; Call:
#&gt; gam::gam(formula = formula1, family = "binomial", data = data)
#&gt; 
#&gt; Degrees of Freedom: 19 total; 10.9997 Residual
#&gt; Residual Deviance: 3.09105 
#&gt; </div><div class='input'><span class='va'>esm_gam_t3</span><span class='op'>$</span><span class='va'>predictors</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 1 x 8</span>
#&gt;   c1    c2    c3    c4      c5      c6    c7    c8   
#&gt;   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>
#&gt; <span style='color: #BCBCBC;'>1</span> aet   cwd   tmin  ppt_djf ppt_jja pH    awc   depth</div><div class='input'><span class='va'>esm_gam_t3</span><span class='op'>$</span><span class='va'>performance</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 7 x 25</span>
#&gt;   model   threshold    thr_value n_presences n_absences TPR_mean TPR_sd TNR_mean
#&gt;   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>            <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>       <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span>      <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>  <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'>1</span> esm_gam equal_sens_~     0.484          30         30    0.867  0.172    1    
#&gt; <span style='color: #BCBCBC;'>2</span> esm_gam lpt              0.429          30         30    1      0        0.867
#&gt; <span style='color: #BCBCBC;'>3</span> esm_gam max_fpb          0.429          30         30    1      0        0.867
#&gt; <span style='color: #BCBCBC;'>4</span> esm_gam max_jaccard      0.429          30         30    1      0        0.867
#&gt; <span style='color: #BCBCBC;'>5</span> esm_gam max_sens_sp~     0.484          30         30    0.867  0.172    1    
#&gt; <span style='color: #BCBCBC;'>6</span> esm_gam max_sorensen     0.429          30         30    1      0        0.867
#&gt; <span style='color: #BCBCBC;'>7</span> esm_gam sensitivity      0.565          30         30    1      0        0.867
#&gt; <span style='color: #949494;'># ... with 17 more variables: TNR_sd &lt;dbl&gt;, SORENSEN_mean &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   SORENSEN_sd &lt;dbl&gt;, JACCARD_mean &lt;dbl&gt;, JACCARD_sd &lt;dbl&gt;, FPB_mean &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   FPB_sd &lt;dbl&gt;, OR_mean &lt;dbl&gt;, OR_sd &lt;dbl&gt;, TSS_mean &lt;dbl&gt;, TSS_sd &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   AUC_mean &lt;dbl&gt;, AUC_sd &lt;dbl&gt;, BOYCE_mean &lt;dbl&gt;, BOYCE_sd &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   IMAE_mean &lt;dbl&gt;, IMAE_sd &lt;dbl&gt;</span></div><div class='input'><span class='co'># }</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Santiago J.E. Velazco, André F.A. Andrade, Brooke Rose, Ignacio Minoli, Janet Franklin.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


