<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Calculate different model performance metrics — sdm_eval • flexsdm</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Calculate different model performance metrics — sdm_eval" />
<meta property="og:description" content="This function calculates threshold dependent and independent model performance
metrics." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">flexsdm</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/01_pre_modeling.html">1. Overview of Pre-modeling functions</a>
    </li>
    <li>
      <a href="../articles/02_modeling.html">2. Overview of Modeling functions</a>
    </li>
    <li>
      <a href="../articles/03_post_modeling.html">3. Overview of Post-modeling functions</a>
    </li>
    <li>
      <a href="../articles/04_Red_fir_example.html">4. An example with Red Fir</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate different model performance metrics</h1>
    
    <div class="hidden name"><code>sdm_eval.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function calculates threshold dependent and independent model performance
metrics.</p>
    </div>

    <pre class="usage"><span class='fu'>sdm_eval</span><span class='op'>(</span><span class='va'>p</span>, <span class='va'>a</span>, bg <span class='op'>=</span> <span class='cn'>NULL</span>, thr <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>p</th>
      <td><p>numeric. Predicted suitability for presences</p></td>
    </tr>
    <tr>
      <th>a</th>
      <td><p>numeric. Predicted suitability for absences</p></td>
    </tr>
    <tr>
      <th>bg</th>
      <td><p>numeric. Predicted suitability for background points, used for BOYCE metric.
It bg is set as NULL, BOYCE metric will be calculated with presences and absences suitabilities
values</p></td>
    </tr>
    <tr>
      <th>thr</th>
      <td><p>character. Threshold criterion used to get binary suitability values (i.e. 0,1).
Used for threshold-dependent performance metrics.
It is possible to use more than one threshold type.
A vector must be provided for this argument. The following threshold criteria are available:</p><ul>
<li><p>lpt: The highest threshold at which there is no omission.</p></li>
<li><p>equal_sens_spec: Threshold at which the Sensitivity and Specificity are equal.</p></li>
<li><p>max_sens_spec: Threshold at which the sum of the Sensitivity and Specificity
is the highest (aka threshold that maximizes the TSS).</p></li>
<li><p>max_jaccard: The threshold at which the Jaccard index is the highest.</p></li>
<li><p>max_sorensen: The threshold at which the Sorensen index is highest.</p></li>
<li><p>max_fpb: The threshold at which FPB (F-measure on presence-background data) is highest.</p></li>
<li><p>sensitivity: Threshold based on a specified Sensitivity value.
Usage thr = c('sensitivity', sens='0.6') or thr = c('sensitivity'). 'sens' refers
to Sensitivity value. If a sensitivity value is not specified, the
default value is 0.9</p></li>
</ul><p>If more than one threshold type is used, concatenate threshold types,
e.g., thr=c('lpt', 'max_sens_spec', 'max_jaccard'), or thr=c('lpt', 'max_sens_spec',
'sensitivity', sens='0.8'), or thr=c('lpt', 'max_sens_spec', 'sensitivity').
Function will use all thresholds if no threshold type is specified</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a tibble with next columns</p><ul>
<li><p>threshold: threshold names</p></li>
<li><p>thr_value: threshold values</p></li>
<li><p>n_presences: number of presences</p></li>
<li><p>n_absences: number of absences</p></li>
<li><p>from TPR to IMAE: performance metrics</p></li>
</ul>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function is used for evaluating different models approaches base on the combination
of presence-absences or presence-pseudo-absences and background point data and
suitability predicted by any model or flexsdm modeling function families (fit_, esm_, and tune_.)</p>
<p>It calculates the next performance metric:</p><table class='table'>
<tr><td>Performance metric</td><td>Threshold dependent</td><td>Values ranges</td></tr>
<tr><td>TPR (True Positive Rate, also called Sensitivity)</td><td>yes</td><td>0 - 1</td></tr>
<tr><td>TNR (True Negative Rate, also called Specificity)</td><td>yes</td><td>0 - 1</td></tr>
<tr><td>SORENSEN</td><td>yes</td><td>0 - 1</td></tr>
<tr><td>JACCARD</td><td>yes</td><td>0 - 1</td></tr>
<tr><td>FPB (F-measure on presence-background)</td><td>yes</td><td>0 - 2</td></tr>
<tr><td>OR (Omission Rate)</td><td>yes</td><td>0 - 1</td></tr>
<tr><td>TSS (True Skill Statistic)</td><td>yes</td><td>-1 - 1</td></tr>
<tr><td>KAPPA</td><td>yes</td><td>0 - 1</td></tr>
<tr><td>AUC (Area Under Curve)</td><td>no</td><td>0 - 1</td></tr>
<tr><td>BOYCE  (continuous Boyce index)*</td><td>no</td><td>-1 - 1</td></tr>
<tr><td>IMAE (Inverse Mean Absolute Error)**</td><td>no</td><td>0 - 1</td></tr>
</table>



<p>\* BOYCE is calculated based on presences and background points, in case that background points
is not provided it is calculated using presences and absences. The codes for calculating
this metric is and adaptation of enmSdm package (https://github.com/adamlilith/enmSdm)</p>
<p>\** IMAE is calculated as 1-(Mean Absolute Error) in order to be consistent with the other
metrics where the higher the value of a given performance metric, the greater the model's
accuracy</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='va'><a href='https://dplyr.tidyverse.org'>dplyr</a></span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>0</span><span class='op'>)</span>
<span class='va'>p</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='fl'>50</span>, mean <span class='op'>=</span> <span class='fl'>0.7</span>, sd <span class='op'>=</span> <span class='fl'>0.3</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>abs</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>p</span><span class='op'>[</span><span class='va'>p</span> <span class='op'>&gt;</span> <span class='fl'>1</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>1</span>
<span class='va'>p</span><span class='op'>[</span><span class='va'>p</span> <span class='op'>&lt;</span> <span class='fl'>0</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>0</span>

<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>0</span><span class='op'>)</span>
<span class='va'>a</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='fl'>50</span>, mean <span class='op'>=</span> <span class='fl'>0.3</span>, sd <span class='op'>=</span> <span class='fl'>0.2</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>abs</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>a</span><span class='op'>[</span><span class='va'>a</span> <span class='op'>&gt;</span> <span class='fl'>1</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>1</span>
<span class='va'>a</span><span class='op'>[</span><span class='va'>a</span> <span class='op'>&lt;</span> <span class='fl'>0</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>0</span>

<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>0</span><span class='op'>)</span>
<span class='va'>backg</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='fl'>1000</span>, mean <span class='op'>=</span> <span class='fl'>0.4</span>, sd <span class='op'>=</span> <span class='fl'>0.4</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>abs</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>backg</span><span class='op'>[</span><span class='va'>backg</span> <span class='op'>&gt;</span> <span class='fl'>1</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>1</span>
<span class='va'>backg</span><span class='op'>[</span><span class='va'>backg</span> <span class='op'>&lt;</span> <span class='fl'>0</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>0</span>

<span class='co'># Function use without threshold specification</span>
<span class='va'>e</span> <span class='op'>&lt;-</span> <span class='fu'>sdm_eval</span><span class='op'>(</span><span class='va'>p</span>, <span class='va'>a</span><span class='op'>)</span>
<span class='va'>e</span>

<span class='co'># Function use with threshold specification</span>
<span class='fu'>sdm_eval</span><span class='op'>(</span><span class='va'>p</span>, <span class='va'>a</span>, thr <span class='op'>=</span> <span class='st'>"max_sorensen"</span><span class='op'>)</span>
<span class='fu'>sdm_eval</span><span class='op'>(</span><span class='va'>p</span>, <span class='va'>a</span>, thr <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/terra/man/c.html'>c</a></span><span class='op'>(</span><span class='st'>"lpt"</span>, <span class='st'>"max_sens_spec"</span>, <span class='st'>"max_jaccard"</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>sdm_eval</span><span class='op'>(</span><span class='va'>p</span>, <span class='va'>a</span>, thr <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/terra/man/c.html'>c</a></span><span class='op'>(</span><span class='st'>"lpt"</span>, <span class='st'>"max_sens_spec"</span>, <span class='st'>"sensitivity"</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>sdm_eval</span><span class='op'>(</span><span class='va'>p</span>, <span class='va'>a</span>, thr <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/terra/man/c.html'>c</a></span><span class='op'>(</span><span class='st'>"lpt"</span>, <span class='st'>"max_sens_spec"</span>, <span class='st'>"sensitivity"</span>, sens <span class='op'>=</span> <span class='st'>"0.95"</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># Use of bg argument (it will only be used for calculating BOYCE index)</span>
<span class='fu'>sdm_eval</span><span class='op'>(</span><span class='va'>p</span>, <span class='va'>a</span>, thr <span class='op'>=</span> <span class='st'>"max_sens_spec"</span><span class='op'>)</span>
<span class='fu'>sdm_eval</span><span class='op'>(</span><span class='va'>p</span>, <span class='va'>a</span>, thr <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/terra/man/c.html'>c</a></span><span class='op'>(</span><span class='st'>"max_sens_spec"</span><span class='op'>)</span>, bg <span class='op'>=</span> <span class='va'>backg</span><span class='op'>)</span>

<span class='co'># If background will be used to calculate all other metrics</span>
<span class='co'># background values can be used in "a" argument</span>
<span class='fu'>sdm_eval</span><span class='op'>(</span><span class='va'>p</span>, <span class='va'>backg</span>, thr <span class='op'>=</span> <span class='st'>"max_sens_spec"</span><span class='op'>)</span>
<span class='op'>}</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Santiago J.E. Velazco, André F.A. Andrade, Brooke Rose, Ignacio Minoli, Janet Franklin.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


